<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<metaname="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>George â€” Full-Stack Developer</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

:root {
  --green:  #00ff88;
  --bg:     #050810;
  --accent: #6366f1;
  --pink:   #ec4899;
  --text:   #e8ecf5;
  --muted:  rgba(232,236,245,0.5);
  --card:   rgba(8,14,32,0.97);
  --border: rgba(99,102,241,0.25);
}

html, body {
  font-family: 'JetBrains Mono', monospace;
  background: var(--bg);
  color: var(--text);
  height: 100%; width: 100%;
  overflow: hidden;
  cursor: none;
}
@media (max-width: 768px) { body { cursor: auto; } }

/* BG */
.bg-glow {
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background:
    radial-gradient(ellipse at 15% 50%, rgba(99,102,241,0.18) 0%, transparent 55%),
    radial-gradient(ellipse at 85% 80%, rgba(236,72,153,0.13) 0%, transparent 55%),
    radial-gradient(ellipse at 50% 10%, rgba(0,255,136,0.10) 0%, transparent 55%);
  animation: bgP 18s ease-in-out infinite alternate;
}
@keyframes bgP { from{transform:scale(1)} to{transform:scale(1.06) translateY(-10px)} }
.bg-grid {
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background-image:
    linear-gradient(rgba(99,102,241,0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(99,102,241,0.04) 1px, transparent 1px);
  background-size: 48px 48px;
}
#cv { position: fixed; inset: 0; z-index: 1; }
.vignette {
  position: fixed; inset: 0; z-index: 2; pointer-events: none;
  background: radial-gradient(ellipse at center, transparent 30%, rgba(5,8,16,0.85) 100%);
}

/* CURSOR */
#cur, #cur2 { display: none; position: fixed; pointer-events: none; z-index: 9999; border-radius: 50%; transform: translate(-50%,-50%); }
@media (hover: hover) and (pointer: fine) {
  #cur { display:block; width:10px; height:10px; background:var(--green); mix-blend-mode:screen; transition:width .2s,height .2s; }
  #cur2 { display:block; width:36px; height:36px; z-index:9998; border:1px solid rgba(0,255,136,.5); transition:all .12s ease-out; }
}

/* UI */
#ui { position: fixed; inset: 0; z-index: 10; pointer-events: none; }

/* HEADER */
#hdr {
  position: absolute; top:0; left:0; right:0;
  display: flex; align-items: center; justify-content: space-between;
  padding: 14px 28px; gap: 10px; flex-wrap: wrap;
  background: rgba(5,8,16,0.88); border-bottom: 1px solid var(--border);
  backdrop-filter: blur(16px);
}
.logo {
  font-family:'Syne',sans-serif; font-size:1.15rem; font-weight:800;
  background: linear-gradient(135deg,var(--green),var(--accent));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
  flex-shrink:0;
}
.nav { display:flex; gap:4px; list-style:none; flex-wrap:wrap; }
.nav a {
  font-size:9.5px; letter-spacing:.12em; text-transform:uppercase;
  color:var(--muted); text-decoration:none; pointer-events:auto; cursor:pointer;
  padding:6px 10px; border:1px solid transparent; border-radius:5px; transition:all .2s;
}
.nav a:hover, .nav a.on { color:var(--green); border-color:rgba(0,255,136,.3); background:rgba(0,255,136,.05); }
.badge {
  display:inline-flex; align-items:center; gap:7px; flex-shrink:0;
  padding:5px 12px; border:1px solid var(--green); border-radius:100px;
  font-size:9px; letter-spacing:.12em; color:var(--green); background:rgba(0,255,136,.05);
}
.dot { width:7px;height:7px;border-radius:50%;background:var(--green);animation:blink 1.4s ease-in-out infinite; }
@keyframes blink{0%,100%{opacity:1}50%{opacity:.2}}

/* HERO */
#ht {
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  text-align:center; pointer-events:none; transition:opacity .4s;
}
.ht1 {
  font-family:'Syne',sans-serif; font-size:clamp(26px,5.5vw,62px); font-weight:800;
  line-height:1.05; letter-spacing:-.02em; margin-bottom:10px;
  background:linear-gradient(135deg,var(--text) 40%,var(--accent));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.ht2 { font-size:clamp(7px,1.4vw,10px); letter-spacing:.2em; text-transform:uppercase; color:var(--muted); }

/* BOTTOM HUD */
#bhud {
  position:absolute; bottom:16px; left:20px; right:20px;
  display:flex; justify-content:space-between; align-items:flex-end; flex-wrap:wrap; gap:8px;
}
.ins { font-size:8px; letter-spacing:.18em; text-transform:uppercase; color:var(--muted); line-height:2; }
.hstat { font-family:'Syne',sans-serif; font-size:10px; font-weight:700; color:var(--green); letter-spacing:.1em; }

/* PANELS â€” shared */
.panel {
  position:absolute;
  width: min(310px, 90vw);
  background:var(--card);
  border:1px solid var(--border);
  padding:26px 22px 22px;
  pointer-events:auto;
  transition:transform .5s cubic-bezier(.16,1,.3,1), opacity .4s;
  backdrop-filter:blur(28px); -webkit-backdrop-filter:blur(28px);
  overflow-y:auto; overflow-x:hidden;
  max-height:78vh;
}
.panel::-webkit-scrollbar{width:3px}
.panel::-webkit-scrollbar-thumb{background:var(--accent);border-radius:2px}

/* Desktop: right panel */
#dp {
  top:50%; right:20px;
  transform:translateY(-50%) translateX(calc(100% + 30px));
  opacity:0;
}
#dp.on { transform:translateY(-50%) translateX(0); opacity:1; }

/* Desktop: left panel */
#ip {
  top:50%; left:20px;
  transform:translateY(-50%) translateX(calc(-100% - 30px));
  opacity:0;
}
#ip.on { transform:translateY(-50%) translateX(0); opacity:1; }

/* Mobile: both panels slide up from bottom */
@media (max-width:768px) {
  .panel {
    top:auto; bottom:0; left:0; right:0;
    width:100%; max-height:75vh;
    border-radius:18px 18px 0 0;
    border-bottom:none; padding:8px 20px 32px;
  }
  .panel::before {
    content:''; display:block; width:38px; height:4px;
    background:rgba(255,255,255,.18); border-radius:2px;
    margin:0 auto 18px;
  }
  #dp { transform:translateY(110%); opacity:1; }
  #dp.on { transform:translateY(0); }
  #ip { transform:translateY(110%); opacity:1; }
  #ip.on { transform:translateY(0); }
}

/* Panel content */
.ptag { font-size:9px; letter-spacing:.3em; text-transform:uppercase; color:var(--green); margin-bottom:10px; }
.ptitle { font-family:'Syne',sans-serif; font-size:clamp(18px,3.5vw,24px); font-weight:800; line-height:1.1; margin-bottom:12px; }
.pdesc { font-size:11px; line-height:1.85; color:rgba(232,236,245,.6); margin-bottom:14px; }
.plist { list-style:none; margin-bottom:14px; }
.plist li { position:relative; padding-left:16px; font-size:10.5px; line-height:1.8; color:rgba(232,236,245,.55); margin-bottom:5px; }
.plist li::before { content:'â–¹'; position:absolute; left:0; color:var(--green); }
.tags { display:flex; flex-wrap:wrap; gap:6px; margin-bottom:16px; }
.tag { font-size:8px; letter-spacing:.15em; text-transform:uppercase; padding:4px 9px; border:1px solid rgba(99,102,241,.3); color:var(--green); background:rgba(0,255,136,.05); border-radius:3px; }
.div { height:1px; background:var(--border); margin:14px 0; }
.pcls {
  font-size:9px; letter-spacing:.22em; text-transform:uppercase;
  color:var(--muted); background:none; border:1px solid var(--border);
  cursor:pointer; font-family:'JetBrains Mono',monospace;
  pointer-events:auto; padding:7px 14px; border-radius:4px; transition:all .2s;
  margin-top:4px;
}
.pcls:hover { color:var(--text); border-color:rgba(0,255,136,.4); }

/* Skills */
.sk { margin-bottom:12px; }
.skn { font-size:9px; letter-spacing:.15em; text-transform:uppercase; color:var(--muted); margin-bottom:6px; }

/* Contact links â€” FULLY VISIBLE & CLICKABLE */
.clink {
  display:flex; align-items:center; gap:12px;
  padding:12px 14px; margin-bottom:9px;
  border:1px solid var(--border); border-radius:8px;
  color:var(--text); text-decoration:none;
  pointer-events:auto !important; cursor:pointer !important;
  transition:border-color .2s, background .2s, transform .2s;
  background:rgba(15,23,42,.7);
}
.clink:hover, .clink:active {
  border-color:rgba(0,255,136,.5);
  background:rgba(0,255,136,.07);
  transform:translateX(4px);
}
.ci { font-size:1.15rem; flex-shrink:0; }
.cl { font-size:8px; letter-spacing:.15em; text-transform:uppercase; color:var(--muted); display:block; margin-bottom:2px; }
.cv { font-size:10.5px; color:var(--text); word-break:break-all; }

/* OVERLAY */
#ov {
  position:fixed; inset:0; z-index:9;
  background:rgba(5,8,16,.55);
  pointer-events:none; opacity:0; transition:opacity .3s;
}
#ov.on { opacity:1; pointer-events:auto; }

/* LOADER */
#ldr {
  position:fixed; inset:0; background:var(--bg); z-index:200;
  display:flex; align-items:center; justify-content:center; flex-direction:column; gap:20px;
  transition:opacity .8s ease;
}
#ldr.gone { opacity:0; pointer-events:none; }
.ln {
  font-family:'Syne',sans-serif; font-size:clamp(34px,8vw,54px); font-weight:800; letter-spacing:.08em;
  background:linear-gradient(135deg,var(--green),var(--accent));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
  animation:pulse 1.4s ease-in-out infinite;
}
.ls { font-size:10px; letter-spacing:.3em; text-transform:uppercase; color:var(--muted); }
.lbw { width:180px; height:1px; background:rgba(99,102,241,.2); overflow:hidden; }
.lb  { height:100%; background:linear-gradient(90deg,var(--green),var(--accent)); width:0%; transition:width 1.6s ease; }
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}

/* Mobile header tweaks */
@media(max-width:480px){
  #hdr{padding:10px 14px;}
  .logo{font-size:1rem;}
  .badge{display:none;}
  .nav a{font-size:9px;padding:5px 8px;}
  #bhud{bottom:10px;left:12px;right:12px;}
}
</style>
</head>
<body>

<div id="ldr">
  <div class="ln">GEORGE</div>
  <div class="ls">Full-Stack Developer</div>
  <div class="lbw"><div class="lb" id="lb"></div></div>
</div>

<div class="bg-glow"></div>
<div class="bg-grid"></div>
<div id="cv"></div>
<div class="vignette"></div>
<div id="cur"></div>
<div id="cur2"></div>
<div id="ov"></div>

<div id="ui">
  <div id="hdr">
    <div class="logo">&lt;/George&gt;</div>
    <ul class="nav">
      <li><a href="#" data-p="about">About</a></li>
      <li><a href="#" data-p="skills">Skills</a></li>
      <li><a href="#" data-p="experience">Experience</a></li>
      <li><a href="#" data-p="contact">Contact</a></li>
    </ul>
    <div class="badge"><span class="dot"></span>Available</div>
  </div>

  <div id="ht">
    <div class="ht1">Full-Stack<br>Engineer</div>
    <div class="ht2">Tap a card to explore Â· Drag to orbit</div>
  </div>

  <!-- LEFT: info panel -->
  <div class="panel" id="ip">
    <div id="ipc"></div>
    <button class="pcls" id="ic">â† Close</button>
  </div>

  <!-- RIGHT: project detail panel -->
  <div class="panel" id="dp">
    <div class="ptag" id="dtag"></div>
    <div class="ptitle" id="dtitle"></div>
    <div class="pdesc" id="drole"></div>
    <ul class="plist" id="dpts"></ul>
    <div class="tags" id="dtags"></div>
    <button class="pcls" id="dc">â† Close</button>
  </div>

  <div id="bhud">
    <div class="ins">Drag to orbit &nbsp;Â·&nbsp; Scroll to zoom<br>Tap a card to view project</div>
    <div>
      <div class="hstat">2 YRS EXPERIENCE</div>
      <div class="ins" style="text-align:right">PHP Â· MySQL Â· JS Â· Android</div>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
// â”€â”€ DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PROJ = [
  { title:"Hotel Management System",  tag:"Full-Stack Web",      role:"Full-Stack Software Engineer", color:"#00ff88",
    pts:["Multi-role system: Admin, Kitchen, and Customer portals.","Designed backend logic, auth, and full database structure.","Built responsive UIs tightly integrated with server-side logic.","Optimized legacy components for reliability and performance."],
    tags:["PHP","MySQL","JavaScript","Full-Stack","Multi-Role"] },
  { title:"Web-Based Management Apps",tag:"Application System",  role:"Lead Developer",               color:"#6366f1",
    pts:["Dynamic CRUD systems connected to MySQL for multiple clients.","Role-based access control for secure multi-user environments.","Improved reliability through structured debugging and testing.","Delivered well-documented codebases for long-term client use."],
    tags:["PHP","MySQL","CRUD","RBAC","Security"] },
  { title:"School Billing System",    tag:"Application System",  role:"Backend Developer",            color:"#ec4899",
    pts:["Full student payment tracking and billing management.","Automated invoice generation for school finance teams.","Secure login system with role-based access.","Database schema designed for accurate financial records."],
    tags:["PHP","MySQL","JavaScript","Auth Systems"] },
  { title:"Hotel Booking System",     tag:"Booking System",      role:"Full-Stack Developer",         color:"#f59e0b",
    pts:["Booking menu with real-time availability tracking.","Backend logic for reservation processing and conflict detection.","Form validation and improved user experience throughout.","Secure data storage and reservation management."],
    tags:["PHP","JavaScript","MySQL","REST Logic"] },
  { title:"Android Mobile App",       tag:"Mobile Development",  role:"Mobile Developer",             color:"#10b981",
    pts:["Android app with integrated database and networking.","Smooth mobile UI with intuitive navigation.","Connected to backend APIs for real-time data sync.","Tested and deployed for client use."],
    tags:["Android","Java","Android Studio","MySQL","Networking"] },
  { title:"Desktop Application",      tag:"Desktop Software",    role:"Software Developer",           color:"#8b5cf6",
    pts:["Desktop apps tailored to specific client requirements.","Refactored legacy code for maintainability.","Stability ensured through systematic testing.","Delivered with clear client documentation."],
    tags:["Desktop","Client Solutions","Refactoring","Maintenance"] },
];

const INFO = {
  about:`
    <div class="ptag">Who I Am</div>
    <div class="ptitle">Full-Stack<br>Software Engineer</div>
    <div class="pdesc">2 years of professional experience building, debugging, and maintaining software across web, mobile, and desktop platforms.<br><br>I deliver end-to-end solutions â€” from database design and backend logic to responsive interfaces. I adapt quickly to new technologies to meet real business needs.</div>
    <div class="div"></div>
    <div class="ptag">Career Objective</div>
    <div class="pdesc">To grow as a technology professional by contributing to meaningful projects, expanding technical expertise, and delivering reliable solutions that create real value for users and organizations.</div>
    <div class="div"></div>
    <div class="tags"><span class="tag">2+ Yrs Exp</span><span class="tag">3 Platforms</span><span class="tag">6+ Technologies</span><span class="tag">Client Delivery</span><span class="tag">Full-Stack</span><span class="tag">Available Now</span></div>
  `,
  skills:`
    <div class="ptag">Competencies</div>
    <div class="ptitle">Technical Skills</div>
    <div class="div"></div>
    <div class="sk"><div class="skn">ğŸŒ Full-Stack Web</div><div class="tags"><span class="tag">PHP</span><span class="tag">JavaScript</span><span class="tag">HTML5</span><span class="tag">CSS3</span><span class="tag">REST APIs</span><span class="tag">Auth Systems</span></div></div>
    <div class="sk"><div class="skn">ğŸ“± Mobile</div><div class="tags"><span class="tag">Android</span><span class="tag">Java</span><span class="tag">Android Studio</span><span class="tag">Mobile UI</span><span class="tag">Networking</span></div></div>
    <div class="sk"><div class="skn">ğŸ—„ï¸ Database & Backend</div><div class="tags"><span class="tag">MySQL</span><span class="tag">Schema Design</span><span class="tag">Query Optimization</span><span class="tag">CRUD</span><span class="tag">Security</span></div></div>
    <div class="sk"><div class="skn">ğŸ–¥ï¸ Desktop Apps</div><div class="tags"><span class="tag">Desktop Software</span><span class="tag">Maintenance</span><span class="tag">Refactoring</span></div></div>
    <div class="sk"><div class="skn">âš™ï¸ Dev Tools</div><div class="tags"><span class="tag">Git</span><span class="tag">GitHub</span><span class="tag">Clean Code</span><span class="tag">Debugging</span><span class="tag">Linux</span></div></div>
    <div class="sk"><div class="skn">ğŸ’¬ Soft Skills</div><div class="tags"><span class="tag">Client Communication</span><span class="tag">Requirements Gathering</span><span class="tag">Documentation</span><span class="tag">Time Management</span></div></div>
  `,
  experience:`
    <div class="ptag">Career Path</div>
    <div class="ptitle">Experience</div>
    <div class="div"></div>
    <div class="ptag">Role</div>
    <div class="pdesc" style="color:var(--green);font-size:12px;margin-bottom:8px">Full-Stack Software Engineer Â· Client Projects Â· 2 Years</div>
    <ul class="plist">
      <li>Delivered full-stack solutions across web, mobile, and desktop.</li>
      <li>Designed databases and implemented scalable backend logic.</li>
      <li>Developed Android apps with integrated databases and networking.</li>
      <li>Communicated directly with clients to gather and fulfill requirements.</li>
      <li>Ensured code quality through testing, refactoring, and documentation.</li>
    </ul>
    <div class="div"></div>
    <div class="ptag">Education</div>
    <div class="pdesc" style="color:var(--green);font-size:12px;margin-bottom:8px">Diploma / Degree in Information Technology</div>
    <ul class="plist">
      <li>Programming and software development fundamentals</li>
      <li>Database design and management</li>
      <li>Systems analysis and documentation</li>
      <li>Networking and computer systems</li>
    </ul>
    <div class="div"></div>
    <div class="ptag">Strengths</div>
    <div class="tags"><span class="tag">ğŸ” Detail-Oriented</span><span class="tag">âš¡ Fast Learner</span><span class="tag">ğŸ’¬ Clear Communicator</span><span class="tag">ğŸ¯ Solution-Focused</span></div>
  `,
  contact:`
    <div class="ptag">Let's Connect</div>
    <div class="ptitle">Get In Touch</div>
    <div class="pdesc">Open to new projects, opportunities, and collaborations. Let's build something great together.</div>
    <div class="div"></div>
    <a href="mailto:georgealuku460@gmail.com" class="clink">
      <span class="ci">ğŸ“§</span>
      <div><span class="cl">Email</span><span class="cv">georgealuku460@gmail.com</span></div>
    </a>
    <a href="tel:+254790274022" class="clink">
      <span class="ci">ğŸ“±</span>
      <div><span class="cl">Phone</span><span class="cv">+254 790 274 022</span></div>
    </a>
    <a href="https://linkedin.com/in/George Aluku" target="_blank" rel="noreferrer" class="clink">
      <span class="ci">ğŸ’¼</span>
      <div><span class="cl">LinkedIn</span><span class="cv">linkedin.com/in/George Aluku</span></div>
    </a>
    <a href="https://github.com/George The Developer" target="_blank" rel="noreferrer" class="clink">
      <span class="ci">ğŸ’»</span>
      <div><span class="cl">GitHub</span><span class="cv">github.com/George The Developer</span></div>
    </a>
    <div class="div"></div>
    <div class="ptag">Strengths</div>
    <div class="tags"><span class="tag">ğŸ” Detail-Oriented</span><span class="tag">âš¡ Fast Learner</span><span class="tag">ğŸ’¬ Communicator</span><span class="tag">ğŸ¯ Solution-Focused</span></div>
  `,
};

// â”€â”€ LOADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
setTimeout(()=>{ document.getElementById('lb').style.width='100%'; },80);
setTimeout(()=>{ document.getElementById('ldr').classList.add('gone'); },1900);

// â”€â”€ CURSOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const CE=document.getElementById('cur'), CR=document.getElementById('cur2');
document.addEventListener('mousemove',e=>{
  CE.style.left=e.clientX+'px'; CE.style.top=e.clientY+'px';
  CR.style.left=e.clientX+'px'; CR.style.top=e.clientY+'px';
});

// â”€â”€ THREE.JS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const container=document.getElementById('cv');
let W=window.innerWidth, H=window.innerHeight;

const renderer=new THREE.WebGLRenderer({antialias:true,alpha:true});
renderer.setSize(W,H); renderer.setPixelRatio(Math.min(devicePixelRatio,2));
container.appendChild(renderer.domElement);

const scene=new THREE.Scene();
scene.fog=new THREE.FogExp2(0x050810,.03);

const camera=new THREE.PerspectiveCamera(55,W/H,.1,200);
camera.position.set(0,0,14);

scene.add(new THREE.AmbientLight(0xffffff,.1));
const pl1=new THREE.PointLight(0x00ff88,4,40); pl1.position.set(-10,8,5); scene.add(pl1);
const pl2=new THREE.PointLight(0x6366f1,3,40); pl2.position.set(10,-6,4); scene.add(pl2);
const pl3=new THREE.PointLight(0xec4899,2,30); pl3.position.set(0,10,-6); scene.add(pl3);

// Particles
const PC=1800, pg=new THREE.BufferGeometry();
const pp=new Float32Array(PC*3), pc=new Float32Array(PC*3);
const pal=[new THREE.Color('#00ff88'),new THREE.Color('#6366f1'),new THREE.Color('#ec4899'),new THREE.Color('#e8ecf5')];
for(let i=0;i<PC;i++){
  pp[i*3]=(Math.random()-.5)*80; pp[i*3+1]=(Math.random()-.5)*80; pp[i*3+2]=(Math.random()-.5)*80;
  const c=pal[Math.floor(Math.random()*pal.length)]; pc[i*3]=c.r;pc[i*3+1]=c.g;pc[i*3+2]=c.b;
}
pg.setAttribute('position',new THREE.BufferAttribute(pp,3));
pg.setAttribute('color',new THREE.BufferAttribute(pc,3));
scene.add(new THREE.Points(pg,new THREE.PointsMaterial({size:.055,vertexColors:true,transparent:true,opacity:.6})));

// Cards
const cards=[], grp=new THREE.Group(); scene.add(grp);
const R=6.5,CW=2.8,CH=3.6,CD=.06;
PROJ.forEach((p,i)=>{
  const a=(i/PROJ.length)*Math.PI*2;
  const x=Math.cos(a)*R, z=Math.sin(a)*R, y=Math.sin(i*1.3)*.7;
  const g=new THREE.Group(); g.position.set(x,y,z); g.lookAt(0,y,0);
  g.userData={fo:Math.random()*Math.PI*2};
  const col=new THREE.Color(p.color);
  const mesh=new THREE.Mesh(new THREE.BoxGeometry(CW,CH,CD),new THREE.MeshStandardMaterial({color:0x080e20,roughness:.1,metalness:.9}));
  g.add(mesh);
  const strip=new THREE.Mesh(new THREE.BoxGeometry(CW,.07,CD+.01),new THREE.MeshStandardMaterial({color:col,emissive:col,emissiveIntensity:1,roughness:.2}));
  strip.position.y=CH/2-.45; g.add(strip);
  const bar=new THREE.Mesh(new THREE.BoxGeometry(.6,.012,CD+.01),new THREE.MeshStandardMaterial({color:col,emissive:col,emissiveIntensity:1.2}));
  bar.position.set(-.7,-CH/2+.5,0); g.add(bar);
  const ed=new THREE.LineSegments(new THREE.EdgesGeometry(new THREE.BoxGeometry(CW,CH,CD)),new THREE.LineBasicMaterial({color:col,transparent:true,opacity:.28}));
  g.add(ed);
  const gl=new THREE.PointLight(col,0,5); gl.position.set(0,0,1.2); g.add(gl);
  grp.add(g); cards.push({g,mesh,ed,gl,p,i});
});

// â”€â”€ PANEL LOGIC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DP=document.getElementById('dp'), IP=document.getElementById('ip');
const ht=document.getElementById('ht'), ov=document.getElementById('ov');
let selCard=null, hovCard=null;

function showOv(){ov.classList.add('on');}
function hideOv(){ov.classList.remove('on');}

function openProj(card){
  selCard=card; const p=card.p;
  document.getElementById('dtag').textContent=p.tag;
  document.getElementById('dtitle').textContent=p.title;
  document.getElementById('drole').textContent=p.role;
  document.getElementById('dpts').innerHTML=p.pts.map(t=>`<li>${t}</li>`).join('');
  document.getElementById('dtags').innerHTML=p.tags.map(t=>`<span class="tag">${t}</span>`).join('');
  DP.classList.add('on'); IP.classList.remove('on');
  ht.style.opacity='0'; showOv();
  document.querySelectorAll('.nav a').forEach(a=>a.classList.remove('on'));
}
function closeProj(){ selCard=null; DP.classList.remove('on'); ht.style.opacity='1'; hideOv(); }

function openInfo(type){
  document.getElementById('ipc').innerHTML=INFO[type]||'';
  IP.classList.add('on'); DP.classList.remove('on');
  selCard=null; ht.style.opacity='0'; showOv();
  document.querySelectorAll('.nav a').forEach(a=>{ a.classList.toggle('on',a.dataset.p===type); });
  // make sure contact links inside panel are clickable
  IP.querySelectorAll('.clink').forEach(a=>{ a.style.pointerEvents='auto'; a.style.cursor='pointer'; });
}
function closeInfo(){ IP.classList.remove('on'); ht.style.opacity='1'; hideOv(); document.querySelectorAll('.nav a').forEach(a=>a.classList.remove('on')); }
function closeAll(){ closeProj(); closeInfo(); }

document.getElementById('dc').addEventListener('click',closeProj);
document.getElementById('ic').addEventListener('click',closeInfo);
ov.addEventListener('click',closeAll);

document.querySelectorAll('[data-p]').forEach(a=>{
  a.addEventListener('click',e=>{
    e.preventDefault();
    if(a.classList.contains('on')&&IP.classList.contains('on')){ closeInfo(); return; }
    openInfo(a.dataset.p);
  });
});

// â”€â”€ RAYCASTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const rc=new THREE.Raycaster(), mouse=new THREE.Vector2();
const meshes=cards.map(c=>c.mesh);

function trySelect(cx,cy){
  mouse.x=(cx/innerWidth)*2-1; mouse.y=-(cy/innerHeight)*2+1;
  rc.setFromCamera(mouse,camera);
  const h=rc.intersectObjects(meshes);
  if(h.length){ const c=cards.find(c=>c.mesh===h[0].object); if(c) openProj(c); }
  else closeAll();
}
window.addEventListener('click',e=>{ if(e.target.closest('#ui')) return; trySelect(e.clientX,e.clientY); });
window.addEventListener('mousemove',e=>{ mouse.x=(e.clientX/innerWidth)*2-1; mouse.y=-(e.clientY/innerHeight)*2+1; });

// â”€â”€ ORBIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let drag=false,px=0,py=0,moved=false;
let rotY=0,rotX=0,tRotY=0,tRotX=0,zoom=14,tZoom=14;
function ds(x,y){drag=true;px=x;py=y;moved=false;}
function dm(x,y){if(!drag)return;const dx=x-px,dy=y-py;if(Math.abs(dx)>2||Math.abs(dy)>2)moved=true;tRotY+=dx*.005;tRotX+=dy*.003;tRotX=Math.max(-.55,Math.min(.55,tRotX));px=x;py=y;}
function de(){drag=false;}
document.addEventListener('mousedown',e=>ds(e.clientX,e.clientY));
document.addEventListener('mousemove',e=>dm(e.clientX,e.clientY));
document.addEventListener('mouseup',de);
document.addEventListener('wheel',e=>{tZoom+=e.deltaY*.012;tZoom=Math.max(5,Math.min(24,tZoom));});

// Touch
let tx0=0,ty0=0,tdrag=false,lpd=null;
window.addEventListener('touchstart',e=>{
  if(e.target.closest('#ui')||e.target.closest('.panel'))return;
  tx0=e.touches[0].clientX;ty0=e.touches[0].clientY;
  ds(tx0,ty0);tdrag=false;
},{passive:true});
window.addEventListener('touchmove',e=>{
  if(e.target.closest('.panel'))return;
  if(e.touches.length===2){
    const dx=e.touches[0].clientX-e.touches[1].clientX,dy=e.touches[0].clientY-e.touches[1].clientY;
    const d=Math.sqrt(dx*dx+dy*dy);
    if(lpd!==null){tZoom-=(d-lpd)*.04;tZoom=Math.max(5,Math.min(24,tZoom));}
    lpd=d;return;
  }
  const dx=e.touches[0].clientX-tx0,dy=e.touches[0].clientY-ty0;
  if(Math.abs(dx)>5||Math.abs(dy)>5)tdrag=true;
  dm(e.touches[0].clientX,e.touches[0].clientY);
},{passive:true});
window.addEventListener('touchend',e=>{
  lpd=null;de();
  if(!tdrag&&!e.target.closest('#ui')){const t=e.changedTouches[0];trySelect(t.clientX,t.clientY);}
},{passive:true});

// â”€â”€ ANIMATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const clock=new THREE.Clock();
function animate(){
  requestAnimationFrame(animate);
  const t=clock.getElapsedTime();
  rotY+=(tRotY-rotY)*.06; rotX+=(tRotX-rotX)*.06; zoom+=(tZoom-zoom)*.07;
  grp.rotation.y=rotY; grp.rotation.x=rotX;

  rc.setFromCamera(mouse,camera);
  const h=rc.intersectObjects(meshes);
  hovCard=h.length?cards.find(c=>c.mesh===h[0].object):null;

  cards.forEach(c=>{
    c.g.position.y+=Math.sin(t*.45+c.g.userData.fo)*.0018;
    const act=hovCard===c||selCard===c;
    c.gl.intensity+=((act?2:0)-c.gl.intensity)*.1;
    c.ed.material.opacity+=((act?.9:.28)-c.ed.material.opacity)*.1;
    const s=hovCard===c?1.08:1;
    c.g.scale.lerp(new THREE.Vector3(s,s,s),.1);
  });

  if(!drag&&!selCard)tRotY+=.0018;

  camera.position.x=zoom*Math.sin(rotY)*Math.cos(rotX);
  camera.position.y=zoom*Math.sin(rotX);
  camera.position.z=zoom*Math.cos(rotY)*Math.cos(rotX);
  camera.lookAt(0,0,0);

  pl1.position.x=Math.sin(t*.3)*12; pl1.position.y=Math.cos(t*.2)*10;
  pl2.position.x=Math.cos(t*.4)*12; pl2.position.z=Math.sin(t*.35)*10;

  if(hovCard){CE.style.width='20px';CE.style.height='20px';CR.style.width='56px';CR.style.height='56px';}
  else{CE.style.width='10px';CE.style.height='10px';CR.style.width='36px';CR.style.height='36px';}

  renderer.render(scene,camera);
}
animate();

window.addEventListener('resize',()=>{
  W=innerWidth;H=innerHeight;
  camera.aspect=W/H;camera.updateProjectionMatrix();renderer.setSize(W,H);
});
</script>
</body>
</html>
